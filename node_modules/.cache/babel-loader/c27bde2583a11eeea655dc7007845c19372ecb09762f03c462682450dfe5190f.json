{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{FaCalendarAlt,FaUserFriends,FaEnvelope,FaPhone,FaSpinner}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Booking=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({name:'',email:'',phone:'',checkIn:'',checkOut:'',guests:1,roomType:'standard',specialRequests:''});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[minDate,setMinDate]=useState('');useEffect(()=>{// Set minimum date to today\nconst today=new Date();const year=today.getFullYear();const month=String(today.getMonth()+1).padStart(2,'0');const day=String(today.getDate()).padStart(2,'0');setMinDate(`${year}-${month}-${day}`);},[]);const validateForm=()=>{const newErrors={};const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;const phoneRegex=/^\\+?[\\d\\s-]{10,}$/;if(!formData.name.trim())newErrors.name='Name is required';if(!formData.email.trim()){newErrors.email='Email is required';}else if(!emailRegex.test(formData.email)){newErrors.email='Please enter a valid email';}if(!formData.phone.trim()){newErrors.phone='Phone number is required';}else if(!phoneRegex.test(formData.phone)){newErrors.phone='Please enter a valid phone number';}if(!formData.checkIn)newErrors.checkIn='Check-in date is required';if(!formData.checkOut)newErrors.checkOut='Check-out date is required';if(formData.checkIn&&formData.checkOut&&formData.checkIn>=formData.checkOut){newErrors.checkOut='Check-out date must be after check-in date';}if(formData.guests<1)newErrors.guests='Number of guests must be at least 1';setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>({...prev,[name]:''}));}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;setIsSubmitting(true);try{// Simulate API call\nawait new Promise(resolve=>setTimeout(resolve,1000));// Navigate to confirmation page with booking data\nnavigate('/confirmation',{state:{bookingData:formData}});}catch(error){console.error('Booking submission failed:',error);setErrors(prev=>({...prev,submit:'Failed to submit booking. Please try again.'}));}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold text-gray-900\",children:\"Book Your Stay\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-lg text-gray-600\",children:\"Fill out the form below to make a reservation\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6 bg-white shadow-lg rounded-lg p-6\",children:[errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-400 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:errors.submit})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-6 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium text-gray-700\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",required:true,value:formData.name,onChange:handleChange,className:`mt-1 block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.name?'border-red-300':'border-gray-300'}`}),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(FaEnvelope,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",required:true,value:formData.email,onChange:handleChange,className:`block w-full pl-10 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.email?'border-red-300':'border-gray-300'}`})]}),errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"block text-sm font-medium text-gray-700\",children:\"Phone Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(FaPhone,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone\",id:\"phone\",required:true,value:formData.phone,onChange:handleChange,className:`block w-full pl-10 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.phone?'border-red-300':'border-gray-300'}`})]}),errors.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"guests\",className:\"block text-sm font-medium text-gray-700\",children:\"Number of Guests\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(FaUserFriends,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"select\",{name:\"guests\",id:\"guests\",value:formData.guests,onChange:handleChange,className:`block w-full pl-10 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.guests?'border-red-300':'border-gray-300'}`,children:[1,2,3,4,5,6].map(num=>/*#__PURE__*/_jsxs(\"option\",{value:num,children:[num,\" \",num===1?'Guest':'Guests']},num))})]}),errors.guests&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.guests})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"checkIn\",className:\"block text-sm font-medium text-gray-700\",children:\"Check-in Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(FaCalendarAlt,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"checkIn\",id:\"checkIn\",required:true,min:minDate,value:formData.checkIn,onChange:handleChange,className:`block w-full pl-10 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.checkIn?'border-red-300':'border-gray-300'}`})]}),errors.checkIn&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.checkIn})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"checkOut\",className:\"block text-sm font-medium text-gray-700\",children:\"Check-out Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(FaCalendarAlt,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"checkOut\",id:\"checkOut\",required:true,min:formData.checkIn||minDate,value:formData.checkOut,onChange:handleChange,className:`block w-full pl-10 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.checkOut?'border-red-300':'border-gray-300'}`})]}),errors.checkOut&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:errors.checkOut})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"roomType\",className:\"block text-sm font-medium text-gray-700\",children:\"Room Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"roomType\",id:\"roomType\",value:formData.roomType,onChange:handleChange,className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"standard\",children:\"Standard Room\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deluxe\",children:\"Deluxe Room\"}),/*#__PURE__*/_jsx(\"option\",{value:\"suite\",children:\"Suite\"}),/*#__PURE__*/_jsx(\"option\",{value:\"presidential\",children:\"Presidential Suite\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"specialRequests\",className:\"block text-sm font-medium text-gray-700\",children:\"Special Requests\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"specialRequests\",id:\"specialRequests\",rows:4,value:formData.specialRequests,onChange:handleChange,className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:\"Any special requests or requirements?\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${isSubmitting?'bg-blue-400':'bg-blue-600 hover:bg-blue-700'} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:isSubmitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FaSpinner,{className:\"animate-spin -ml-1 mr-2 h-5 w-5\"}),\"Processing...\"]}):'Confirm Booking'})})]})]})});};export default Booking;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}